<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Snap.Extension.Heist</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><script src="haddock-util.js" type="text/javascript"></script><script type="text/javascript">//<![CDATA[
window.onload = function () {pageLoad();setSynopsis("mini_Snap-Extension-Heist.html");};
//]]>
</script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">snap-0.5.1: Snap: A Haskell Web Framework: project starter executable and glue code library</p></div><div id="content"><div id="module-header"><p class="caption">Snap.Extension.Heist</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p><code>Snap.Extension.Heist</code> exports the <code><a href="Snap-Extension-Heist.html#t:MonadHeist">MonadHeist</a></code> interface which allows you to
integrate Heist templates into your Snap application. The interface's
operations are <code><a href="Snap-Extension-Heist.html#v:heistServe">heistServe</a></code>, <code><a href="Snap-Extension-Heist.html#v:heistServeSingle">heistServeSingle</a></code>, <code><a href="Snap-Extension-Heist.html#v:heistLocal">heistLocal</a></code> and <code><a href="Snap-Extension-Heist.html#v:render">render</a></code>. As
a convenience, we also provide <code><a href="Snap-Extension-Heist.html#v:renderWithSplices">renderWithSplices</a></code> that combines <code><a href="Snap-Extension-Heist.html#v:heistLocal">heistLocal</a></code>
and <code><a href="Snap-Extension-Heist.html#v:render">render</a></code> into a single function call.
</p><p><code>Snap.Extension.Heist.Impl</code> contains the only implementation of this interface
and can be used to turn your application's monad into a <code><a href="Snap-Extension-Heist.html#t:MonadHeist">MonadHeist</a></code>.
</p><p><code><a href="Snap-Extension-Heist.html#t:MonadHeist">MonadHeist</a></code> is unusual among Snap extensions in that it's a multi-parameter
typeclass. The last parameter is your application's monad, and the first is
the monad you want the <code><a href="/Users/gdc/.cabal/share/doc/heist-0.5.2/html/Text-Templating-Heist.html#t:TemplateState">TemplateState</a></code> to use. This is usually, but not
always, also your application's monad.
</p><p>This module should not be used directly. Instead, import
<a href="Snap-Extension-Heist-Impl.html">Snap.Extension.Heist.Impl</a> in your application.
</p></div></div><div id="synopsis"><p id="control.syn" class="caption expander" onclick="toggleSection('syn')">Synopsis</p><ul id="section.syn" class="hide" onclick="toggleSection('syn')"><li class="src short"><span class="keyword">class</span> (<a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.3.1.0/Control-Monad.html#t:Monad">Monad</a> n, <a href="/Users/gdc/.cabal/share/doc/snap-core-0.5.1/html/Snap-Types.html#t:MonadSnap">MonadSnap</a> m) =&gt; <a href="#t:MonadHeist">MonadHeist</a> n m | m -&gt; n <span class="keyword">where</span><ul class="subs"><li><a href="#v:render">render</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.9.1.10/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; m <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t:-40--41-">()</a></li><li><a href="#v:renderAs">renderAs</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.9.1.10/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.9.1.10/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; m <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t:-40--41-">()</a></li><li><a href="#v:heistLocal">heistLocal</a> ::  (<a href="/Users/gdc/.cabal/share/doc/heist-0.5.2/html/Text-Templating-Heist.html#t:TemplateState">TemplateState</a> n -&gt; <a href="/Users/gdc/.cabal/share/doc/heist-0.5.2/html/Text-Templating-Heist.html#t:TemplateState">TemplateState</a> n) -&gt; m a -&gt; m a</li><li><a href="#v:heistServe">heistServe</a> :: m <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t:-40--41-">()</a></li><li><a href="#v:heistServeSingle">heistServeSingle</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.9.1.10/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; m <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t:-40--41-">()</a></li></ul></li><li class="src short"><a href="#v:renderWithSplices">renderWithSplices</a> :: <a href="Snap-Extension-Heist.html#t:MonadHeist">MonadHeist</a> n m =&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.9.1.10/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; [(Text, <a href="/Users/gdc/.cabal/share/doc/heist-0.5.2/html/Text-Templating-Heist.html#t:Splice">Splice</a> n)] -&gt; m <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t:-40--41-">()</a></li></ul></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">class</span> (<a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.3.1.0/Control-Monad.html#t:Monad">Monad</a> n, <a href="/Users/gdc/.cabal/share/doc/snap-core-0.5.1/html/Snap-Types.html#t:MonadSnap">MonadSnap</a> m) =&gt; <a name="t:MonadHeist" class="def">MonadHeist</a> n m | m -&gt; n <span class="keyword">where</span></p><div class="doc"><p>The <code><a href="Snap-Extension-Heist.html#t:MonadHeist">MonadHeist</a></code> type class. Minimal complete definition: <code><a href="Snap-Extension-Heist.html#v:render">render</a></code>,
 <code><a href="Snap-Extension-Heist.html#v:heistLocal">heistLocal</a></code>.
</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a name="v:render" class="def">render</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.9.1.10/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; m <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t:-40--41-">()</a></p><div class="doc"><p>Renders a template as text/html. If the given template is not found,
 this returns <code><a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.3.1.0/Control-Applicative.html#v:empty">empty</a></code>.
</p></div><p class="src"><a name="v:renderAs" class="def">renderAs</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.9.1.10/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.9.1.10/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; m <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t:-40--41-">()</a></p><div class="doc"><p>Renders a template as the given content type.  If the given template
 is not found, this returns <code><a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.3.1.0/Control-Applicative.html#v:empty">empty</a></code>.
</p></div><p class="src"><a name="v:heistLocal" class="def">heistLocal</a> ::  (<a href="/Users/gdc/.cabal/share/doc/heist-0.5.2/html/Text-Templating-Heist.html#t:TemplateState">TemplateState</a> n -&gt; <a href="/Users/gdc/.cabal/share/doc/heist-0.5.2/html/Text-Templating-Heist.html#t:TemplateState">TemplateState</a> n) -&gt; m a -&gt; m a</p><div class="doc"><p>Runs an action with a modified <code><a href="/Users/gdc/.cabal/share/doc/heist-0.5.2/html/Text-Templating-Heist.html#t:TemplateState">TemplateState</a></code>. You might want to use
 this if you had a set of splices which were customised for a specific
 action. To do that you would do:
</p><pre> heistLocal (bindSplices mySplices) $ render &quot;myTemplate&quot;
</pre></div><p class="src"><a name="v:heistServe" class="def">heistServe</a> :: m <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t:-40--41-">()</a></p><div class="doc"><p>Analogous to <code><a href="/Users/gdc/.cabal/share/doc/snap-core-0.5.1/html/Snap-Util-FileServe.html#v:fileServe">fileServe</a></code>. If the template specified in the request
 path is not found, it returns <code><a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/base-4.3.1.0/Control-Applicative.html#v:empty">empty</a></code>.
</p></div><p class="src"><a name="v:heistServeSingle" class="def">heistServeSingle</a> :: <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.9.1.10/Data-ByteString.html#t:ByteString">ByteString</a> -&gt; m <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t:-40--41-">()</a></p><div class="doc"><p>Analogous to <code><a href="/Users/gdc/.cabal/share/doc/snap-core-0.5.1/html/Snap-Util-FileServe.html#v:fileServeSingle">fileServeSingle</a></code>. If the given template is not found,
 this throws an error.
</p></div></div><div class="subs instances"><p id="control.i:MonadHeist" class="caption collapser" onclick="toggleSection('i:MonadHeist')">Instances</p><div id="section.i:MonadHeist" class="show"><table><tr><td class="src"><a href="Snap-Extension-Heist-Impl.html#t:HasHeistState">HasHeistState</a> m s =&gt; <a href="Snap-Extension-Heist.html#t:MonadHeist">MonadHeist</a> m (ReaderT s m)</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a href="Snap-Extension-Heist-Impl.html#t:HasHeistState">HasHeistState</a> (<a href="Snap-Extension.html#t:SnapExtend">SnapExtend</a> s) s =&gt; <a href="Snap-Extension-Heist.html#t:MonadHeist">MonadHeist</a> (<a href="Snap-Extension.html#t:SnapExtend">SnapExtend</a> s) (<a href="Snap-Extension.html#t:SnapExtend">SnapExtend</a> s)</td><td class="doc empty">&nbsp;</td></tr></table></div></div></div><div class="top"><p class="src"><a name="v:renderWithSplices" class="def">renderWithSplices</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Snap-Extension-Heist.html#t:MonadHeist">MonadHeist</a> n m</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">=&gt; <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/bytestring-0.9.1.10/Data-ByteString.html#t:ByteString">ByteString</a></td><td class="doc"><p>Template to render
</p></td></tr><tr><td class="src">-&gt; [(Text, <a href="/Users/gdc/.cabal/share/doc/heist-0.5.2/html/Text-Templating-Heist.html#t:Splice">Splice</a> n)]</td><td class="doc"><p>Splice mapping
</p></td></tr><tr><td class="src">-&gt; m <a href="/Library/Frameworks/GHC.framework/Versions/7.0.3-x86_64/usr/share/doc/ghc/html/libraries/ghc-prim-0.2.0.0/GHC-Unit.html#t:-40--41-">()</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="doc"><p>Helper function for common use case:
 Render a template with a given set of splices.
</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.9.2</p></div></body></html>